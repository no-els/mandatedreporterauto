<template>
    <lightning-card title="Workshop Manager">
        <!-- Site Selection -->
        <c-site-selector onsiteselect={handleSiteChange}></c-site-selector>

        <!-- Workshop Selection (Filtered by Site) -->
        <template if:true={selectedSite}>
            <c-workshop-selector site={selectedSite} onworkshopselect={handleWorkshopChange}></c-workshop-selector>
        </template>

        <!-- Show Participant Lists if Workshop is Selected -->
        <template if:true={selectedWorkshop}>
            <div class="slds-grid slds-gutters">
                <!-- Potential Participants -->
                <div class="slds-col">
                    <lightning-card title="Participants">
                        <c-participant-list 
                            site={selectedSite} 
                            onaddparticipant={handleAddParticipant}>
                        </c-participant-list>
                    </lightning-card>
                </div>

                <!-- Workshop Participants -->
                <div class="slds-col">
                    <lightning-card title="Workshop Participants">
                        <c-workshop-participant-list 
                            workshop={selectedWorkshop} 
                            onremoveparticipant={handleRemoveParticipant}>
                        </c-workshop-participant-list>
                    </lightning-card>
                </div>
            </div>
        </template>
    </lightning-card>
</template>
